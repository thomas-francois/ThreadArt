from math import sin, cos, pi
from PIL import Image, ImageDraw
import config


def createVisu(sequence):
	global baseImage
	size = config.visualisationWindowSize
	baseImage = Image.new("RGBA", (size ,size), (255, 255, 255, 255))

	print("Starting visualisation...")

	nailsCoords = []
	radius = size / 2 - 10
	for i in range(config.numberOfNails):
		x = round(radius * cos(-i * 2 * pi / config.numberOfNails + pi / 2) + size / 2)
		y = round(radius * sin(-i * 2 * pi / config.numberOfNails + pi / 2) + size / 2)
		nailsCoords.append([x, y])
		if i % 50 == 0:
			draw = ImageDraw.Draw(baseImage)
			draw.text((x, y), str(i) ,fill = "red")

	last = 0
	for nailIndex in sequence[1:]:
		addTransparentLine(baseImage ,nailsCoords[int(last)] ,nailsCoords[int(nailIndex)] ,config.visualisationLineAlpha)
		last = nailIndex

	if config.visualisationDebug:
		baseImage = addInfos(baseImage)
	baseImage.show()
	print("Finished")


def addTransparentLine(image ,start ,end ,alpha):
	global baseImage
	overlay = Image.new("RGBA", image.size, (0, 0, 0, 0))
	draw = ImageDraw.Draw(overlay)
	draw.line([tuple(start), tuple(end)], fill = (0, 0, 0, alpha), width = config.visualisationLineWidth)
	baseImage = Image.alpha_composite(image, overlay)



def addInfos(image):
	textTop = f"Source: {config.imgPath}\nLines: {config.maxLines}\nWeight: {config.calculationLineWeight}"
	textBottom = f"Contrast: {config.sourcePhotoContrast}\nBrightness: {config.sourcePhotoBrightness}"
	draw = ImageDraw.Draw(image)
	draw.text((0, 0), textTop ,fill = "red")
	draw.text((0, config.visualisationWindowSize - 30), textBottom ,fill = "red")
	return image


def profile():
	import cProfile
	import pstats

	with cProfile.Profile() as pr:
		createVisu(sequence)

	stats = pstats.Stats(pr)
	stats.sort_stats(pstats.SortKey.TIME)
	stats.print_stats()
	stats.dump_stats(filename="Profile.prof")



if __name__ == '__main__':
	# sequence = [0, 144, 20, 158, 42, 161, 44, 162, 43, 166, 57, 178, 58, 180, 69, 181, 70, 176, 56, 168, 50, 179, 59, 177, 48, 167, 47, 163, 42, 162, 46, 161, 45, 159, 41, 155, 16, 154, 14, 152, 12, 137, 11, 136, 10, 135, 9, 134, 280, 126, 277, 131, 284, 164, 42, 160, 39, 157, 36, 156, 41, 158, 38, 153, 13, 151, 12, 139, 14, 155, 35, 154, 15, 152, 40, 159, 37, 160, 47, 174, 56, 178, 50, 166, 58, 179, 57, 177, 73, 182, 64, 181, 72, 255, 81, 262, 82, 263, 83, 264, 84, 269, 145, 1, 141, 18, 142, 288, 130, 285, 134, 11, 150, 33, 148, 25, 147, 26, 149, 28, 146, 289, 133, 286, 165, 57, 170, 56, 166, 49, 175, 44, 173, 58, 186, 81, 261, 80, 267, 78, 266, 142, 17, 157, 3, 158, 43, 168, 57, 180, 77, 258, 76, 265, 85, 195, 87, 197, 91, 199, 99, 200, 59, 164, 56, 185, 79, 260, 78, 179, 66, 175, 68, 181, 58, 184, 73, 171, 295, 125, 272, 144, 21, 159, 18, 140, 16, 153, 12, 150, 27, 146, 31, 148, 28, 151, 14, 156, 37, 154, 13, 139, 287, 141, 264, 77, 265, 84, 263, 81, 250, 114, 252, 70, 182, 53, 175, 69, 174, 57, 184, 79, 266, 86, 270, 142, 0, 128, 274, 129, 275, 121, 282, 163, 283, 137, 13, 138, 291, 136, 12, 154, 41, 157, 34, 151, 40, 150, 32, 145, 289, 147, 287, 165, 5, 167, 286, 166, 28, 169, 73, 183, 65, 191, 83, 268, 144, 1, 155, 15, 153, 43, 170, 72, 254, 117, 281, 162, 25, 149, 11, 138, 10, 132, 278, 159, 4, 160, 280, 116, 277, 128, 9, 131, 289, 121, 256, 75, 250, 111, 249, 112, 214, 106, 203, 105, 202, 60, 172, 296, 140, 254, 69, 187, 57, 164, 24, 143, 267, 87, 270, 124, 294, 170, 18, 157, 275, 126, 281, 118, 253, 71, 252, 77, 248, 79, 179, 62, 181, 80, 251, 113, 213, 102, 210, 100, 201, 97, 200, 101, 198, 90, 197, 84, 277, 159, 279, 127, 299, 139, 285, 121, 257, 141, 284, 118, 283, 168, 288, 120, 282, 162, 57, 186, 68, 176, 55, 165, 46, 177, 78, 259, 77, 266, 141, 17, 154, 34, 152, 13, 135, 281, 163, 56, 179, 65, 176, 73, 256, 142, 265, 140, 27, 138, 12, 141, 251, 68, 169, 6, 149, 33, 155, 13, 136, 290, 168, 16, 157, 2, 156, 44, 176, 58, 188, 63, 173, 292, 138, 282, 125, 259, 141, 268, 81, 253, 69, 170, 73, 178, 77, 246, 75, 263, 74, 249, 82, 251, 116, 216, 114, 274, 122, 255, 141, 26, 164, 285, 169, 15, 136, 25, 138, 28, 150, 35, 151, 29, 171, 74, 182, 51, 181, 79, 262, 141, 253, 78, 185, 55, 184, 72, 256, 122, 269, 140, 13, 142, 299, 143, 271, 88, 268, 82, 275, 153, 45, 166, 289, 169, 57, 163, 23, 172, 76, 245, 106, 247, 78, 176, 48, 157, 280, 123, 293, 170, 20, 159, 5, 166, 288, 146, 39, 148, 286, 119, 277, 130, 3, 160, 278, 129, 273, 127, 10, 139, 252, 115, 215, 2, 145, 22, 162, 280, 128, 8, 175, 73, 254, 80, 269, 89, 199, 59, 201, 101, 210, 104, 211, 100, 202, 96, 207, 94, 200, 103, 214, 0, 141, 23, 161, 286, 143, 21, 171, 289, 136, 26, 222, 113, 248, 66, 185, 68, 250, 110, 212, 107, 202, 70, 180, 80, 252, 82, 192, 67, 173, 296, 125, 286, 169, 30, 225, 31, 140, 250, 83, 262, 75, 257, 142, 19, 158, 4, 164, 44, 172, 294, 148, 6, 168, 64, 189, 63, 243, 76, 220, 112, 248, 140, 30, 223, 25, 137, 10, 128, 261, 77, 260, 141, 258, 84, 271, 51, 272, 80, 184, 78, 187, 76, 251, 109, 213, 70, 170, 29, 144, 270, 91, 196, 94, 199, 58, 183, 72, 178, 47, 161, 279, 133, 284, 165, 273, 52, 274, 81, 275, 158, 56, 160, 49, 159, 283, 117, 282, 119, 254, 141, 249, 67, 202, 58, 177, 9, 132, 263, 73, 258, 120, 267, 140, 255, 71, 203, 113, 205, 108, 216, 2, 214, 299, 128, 272, 137, 290, 147, 39, 161, 4, 131, 276, 87, 183, 69, 172, 19, 139, 262, 80, 250, 141, 247, 82, 277, 155, 45, 170, 292, 211, 99, 202, 93, 273, 156, 15, 168, 70, 245, 63, 241, 61, 237, 60, 238, 62, 204, 112, 218, 74, 169, 19, 143, 32, 224, 31, 228, 28, 229, 124, 279, 119, 280, 139, 268, 79, 178, 9, 129, 11, 152, 29, 225, 27, 136, 23, 147, 32, 151, 16, 167, 61, 239, 62, 165, 43, 157, 37, 149, 46, 265, 141, 297, 174, 293, 139, 251, 138, 263, 140, 260, 80, 188, 68, 252, 137, 278, 126, 298, 215, 0, 216, 72, 182, 66, 193, 90, 200, 60, 163, 271, 86, 196, 95, 208, 69, 173, 22, 127, 276, 52, 272, 94, 197, 85, 279, 160, 24, 130, 265, 131, 273, 151, 44, 174, 7, 171, 76, 175, 295, 212, 114, 215, 4, 216, 297, 173, 55, 168, 284, 122, 281, 166, 26, 226, 30, 170, 6, 167, 72, 205, 115, 214, 1, 217, 107, 206, 59, 188, 13, 187, 11, 147, 34, 156, 3, 219, 113, 202, 98, 209, 103, 199, 102, 200, 109, 246, 104, 277, 83, 253, 111, 213, 296, 127, 23, 135, 248, 74, 264, 75, 214, 71, 168, 287, 120, 271, 52, 275, 85, 259, 144, 35, 225, 32, 139, 20, 161, 269, 49, 261, 42, 262, 142, 22, 158, 16, 152, 41, 147, 271, 159, 3, 222, 24, 134, 264, 82, 186, 54, 175, 294, 165, 73, 190, 64, 166, 14, 153, 47, 164, 28, 172, 291, 211, 74, 217, 299, 140, 245, 104, 205, 117, 221, 20, 121, 270, 50, 268, 78, 180, 9, 133, 290, 135, 15, 137, 22, 125, 238, 63, 183, 88, 279, 169, 292, 122, 257, 83, 248, 108, 201, 98, 207, 118, 218, 0, 213, 101, 199, 92, 185, 57, 202, 112, 251, 81, 249, 69, 176, 28, 227, 29, 120, 220, 132, 285, 89, 191, 84, 254, 74, 257, 144, 288, 148, 262, 49, 267, 81, 276, 160, 40, 153, 37, 155, 271, 48, 259, 79, 272, 130, 222, 30, 231, 138, 235, 60, 242, 140, 239, 75, 244, 133, 11, 128, 275, 51, 164, 22, 141, 288, 209, 97, 195, 83, 269, 157, 277, 123, 237, 139, 234, 29, 232, 33, 145, 283, 165, 56, 159, 267, 86, 205, 59, 238, 140, 11, 188, 77, 171, 19, 115, 223, 2, 217, 6, 216, 106, 244, 62, 173, 8, 179, 67, 250, 139, 26, 130, 218, 298, 138, 270, 47, 254, 82, 266, 46, 152, 32, 154, 265, 158, 281, 146, 21, 125, 23, 132, 245, 110, 214, 293, 95, 206, 109, 6, 108, 203, 61, 184, 91, 272, 50, 266, 151, 276, 51, 179, 10, 185, 65, 174, 74, 215, 5, 218, 295, 213, 73, 166, 275, 80, 247, 131, 30, 121, 17, 156, 46, 269, 134, 291, 146, 282, 118, 19, 111, 205, 93, 207, 68, 187, 96, 274, 82, 244, 138, 14, 101, 5, 162, 276, 130, 10, 141, 246, 83, 251, 70, 256, 85, 253, 137, 271, 112, 207, 87, 284, 208, 100, 198, 58, 204, 115, 259, 47, 182, 67, 214, 291, 212, 297, 219, 110, 252, 140, 236, 61, 201, 70, 255, 116, 203, 93, 271, 162, 4, 130, 34, 226, 31, 124, 292, 139, 240, 129, 283, 210, 96, 199, 110, 290, 172, 75, 218, 1, 220, 134, 16, 104, 5, 106, 205, 114, 20, 157, 35, 132, 266, 160, 21, 127, 260, 42, 263, 43, 262, 72, 163, 289, 210, 69, 161, 287, 211, 107, 198, 84, 187, 12, 155, 18, 120, 226, 29, 223, 23, 123, 294, 95, 200, 113, 197, 105, 15, 167, 282, 136, 14, 189, 79, 254, 121, 281, 170, 76, 256, 47, 150, 7, 116, 18, 172, 31, 139, 247, 72, 261, 37, 260, 49, 180, 68, 215, 6, 98, 196, 78, 173, 70, 212, 103, 191, 64, 240, 59, 204, 105, 245, 74, 258, 138, 248, 134, 42, 154, 272, 164, 286, 208, 281, 209, 89, 277, 51, 269, 48, 152, 274, 49, 268, 122, 261, 155, 31, 230, 5, 216, 3, 220, 295, 172, 73, 181, 54, 236, 132, 221, 0, 223, 135, 263, 49, 154, 38, 143, 297, 177, 45, 259, 129, 22, 228, 136, 9, 126, 283, 86, 278, 206, 99, 13, 106, 17, 102, 5, 160, 273, 51, 274, 166, 296, 217, 113, 272, 116, 199, 56, 157, 4, 227, 32, 229, 122, 30, 127, 218, 11, 96, 194, 84, 250, 107, 7, 149, 41, 255, 73, 179, 77, 269, 52, 177, 74, 210, 291, 220, 109, 193, 76, 219, 5, 100, 190, 90, 184, 87, 200, 119, 29, 233, 139, 243, 128, 241, 75, 171, 296, 212, 66, 192, 23, 227, 2, 142, 34, 225, 134, 26, 148, 254, 71, 215, 125, 287, 145, 39, 158, 267, 79, 253, 138, 246, 103, 195, 89, 279, 128, 33, 224, 1, 129, 15, 107, 203, 114, 248, 111, 6, 112, 247, 65, 240, 61, 175, 9, 183, 70, 209, 105, 18, 104, 190, 101, 204, 119, 16, 170, 55, 161, 58, 205, 277, 53, 276, 50, 263, 157, 272, 86, 253, 30, 168, 63, 187, 98, 212, 289, 216, 131, 223, 122, 16, 141, 29, 165, 28, 230, 2, 221, 294, 211, 95, 11, 130, 217, 4, 163, 71, 259, 35, 256, 82, 196, 111, 208, 285, 212, 115, 250, 28, 224, 299, 226, 36, 261, 48, 277, 152, 268, 85, 284, 138, 240, 75, 215, 104, 19, 160, 38, 260, 72, 214, 3, 90, 256, 150, 2, 219, 14, 188, 62, 205, 118, 28, 145, 5, 168, 277, 52, 270, 125, 31, 185, 70, 175, 77, 257, 40, 133, 250, 137, 241, 140, 237, 7, 105, 289, 122, 207, 282, 126, 286, 120, 208, 129, 245, 64, 180, 297, 110, 8, 95, 274, 47, 255, 45, 162, 283, 213, 4, 94, 206, 117, 271, 50, 183, 89, 292, 219, 74, 242, 131, 244, 102, 197, 57, 201, 109, 249, 77, 176, 296, 227, 26, 107, 209, 61, 163, 270, 135, 230, 49, 273, 96, 204, 275, 114, 197, 79, 274, 206, 91, 293, 134, 10, 186, 94, 11, 98, 13, 128, 193, 22, 124, 257, 42, 228, 0, 225, 118, 34, 240, 140, 256, 86, 207, 108, 194, 95, 281, 127, 232, 49, 279, 209, 68, 244, 139, 264, 43, 152, 39, 245, 84, 202, 119, 259, 75, 169, 17, 112, 206, 127, 192, 99, 5, 234, 25, 174, 37, 257, 72, 173, 291, 113, 221, 290, 215, 1, 79, 250, 44, 147, 12, 137, 52, 169, 7, 220, 5, 170, 74, 265, 112, 203, 97, 6, 214, 294, 178, 10, 93, 208, 88, 200, 110, 28, 116, 20, 191, 125, 256, 143, 250, 35, 224, 136, 266, 48, 155, 274, 133, 17, 117, 7, 239, 25, 222, 137, 229, 3, 225, 121, 231, 0, 130, 27, 106, 16, 135, 286, 211, 65, 210, 280, 206, 124, 8, 183, 53, 275, 47, 267, 161, 25, 133, 50, 261, 74, 166, 285, 147, 5, 92, 197, 95, 287, 124, 241, 134, 229, 299, 232, 139, 239, 59, 198, 86, 260, 34, 258, 121, 192, 128, 202, 66, 167, 68, 259, 153, 11, 151, 46, 271, 204, 72, 211, 103, 189, 87, 6, 165, 69, 201, 94, 293, 218, 135, 249, 29, 108, 26, 243, 104, 198, 117, 20, 223, 3, 213, 288, 219, 299, 216, 68, 177, 44, 267, 110, 18, 132, 11, 142, 298, 233, 33, 138, 266, 120, 289, 103, 203, 60, 236, 121, 16, 113, 30, 109, 252, 67, 186, 96, 10, 187, 276, 83, 247, 136, 234, 52, 278, 51, 131, 195, 111, 7, 86, 251, 30, 120, 194, 129, 212, 74, 246, 63, 182, 54, 176, 8, 122, 23, 230, 295, 217, 128, 210, 278, 156, 55, 163, 277, 207, 60, 175, 297, 172, 77, 220, 287, 209, 95, 195, 112, 25, 226, 1, 231, 80, 265, 50, 137, 281, 171, 15, 150, 26, 221, 4, 105, 184, 107, 218, 6, 146, 286, 222, 31, 255, 48, 149, 263, 85, 203, 115, 271, 78, 245, 8, 161, 3, 81, 181, 10, 89, 197, 116, 217, 288, 189, 125, 19, 120, 36, 191, 119, 234, 296, 106, 20, 145, 4, 237, 32, 171, 287, 143, 263, 37, 132, 5, 228, 294, 164, 40, 131, 52, 272, 186, 270, 205, 63, 178, 295, 98, 275, 210, 91, 7, 108, 247, 73, 208, 121, 220, 127, 196, 132, 15, 100, 242, 105, 27, 114, 187, 117, 216, 11, 139, 236, 134, 214, 47, 268, 202, 116, 21, 255, 75, 237, 55, 178, 29, 122, 298, 179, 7, 242, 27, 110, 204, 94, 9, 89, 206, 130, 42, 227, 138, 297, 226, 6, 244, 127, 50, 273, 207, 109, 218, 12, 129, 193, 98, 199, 125, 240, 37, 228, 35, 119, 14, 140, 235, 62, 242, 11, 144, 230, 293, 162, 69, 164, 73, 264, 124, 190, 290, 108, 12, 94, 282, 214, 102, 13, 157, 262, 38, 261, 45, 269, 118, 201, 120, 8, 185, 274, 204, 122, 26, 104, 249, 19, 108, 210, 1, 77, 221, 76, 169, 56, 237, 23, 134, 283, 206, 60, 167, 284, 219, 133, 43, 159, 6, 236, 124, 261, 146, 1, 238, 31, 248, 9, 184, 50, 283, 87, 206, 281, 215, 128, 196, 36, 117, 298, 212, 102, 194, 130, 289, 190, 126, 49, 229, 30, 107, 21, 136, 207, 280, 188, 96, 15, 139, 10, 236, 147, 282, 171, 66, 201, 264, 48, 278, 91, 3, 82, 248, 107, 191, 24, 173, 65, 199, 114, 185, 58, 241, 153, 260, 68, 166, 277, 212, 123, 290, 224, 116, 27, 273, 46, 196, 99, 0, 74, 256, 48, 258, 36, 225, 287, 219, 136, 28, 106, 192, 92, 205, 109, 186, 120, 254, 86, 291, 223, 14, 97, 220, 118, 190, 34, 132, 288, 170, 266, 203, 98, 222, 23, 269, 206, 104, 201, 113, 20, 251, 9, 122, 291, 232, 134, 52, 285, 165, 72, 297, 214, 143, 268, 156, 47, 252, 81, 243, 5, 213, 67, 169, 59, 237, 2, 154, 259, 33, 140, 244, 130, 39, 193, 105, 25, 271, 203, 135, 42, 258, 71, 212, 142, 21, 253, 34, 241, 145, 290, 111, 245, 17, 262, 122, 36, 232, 0, 151, 239, 126, 51, 279, 32, 197, 80, 2, 158, 45, 180, 50, 129, 23, 93, 204, 265, 184, 268, 52, 288, 210, 90, 194, 121, 13, 255, 108, 297, 224, 132, 22, 119, 189, 11, 148, 228, 14, 117, 232, 8, 134, 277, 31, 112, 187, 111, 221, 284, 160, 270, 85, 246, 101, 17, 137, 293, 211, 132, 49, 275, 213, 2, 129, 192, 21, 226, 286, 214, 100, 295, 235, 148, 285, 172, 67, 248, 69, 209, 109, 178, 112, 44, 257, 73, 216, 280, 154, 276, 29, 115, 46, 121, 39, 269, 90, 9, 230, 123, 192, 293, 236, 129, 210, 4, 95, 199, 259, 92, 208, 139, 291, 85, 175, 55, 198, 111, 246, 25, 99, 240, 0, 76, 176, 105, 211, 272, 202, 61, 237, 74, 298, 217, 133, 12, 143, 18, 168, 26, 274, 53, 235, 2, 229, 296, 103, 7, 151, 47, 253, 87, 182, 109, 38, 127, 29, 262, 200, 83, 196, 133, 204, 113, 177, 6, 234, 148, 289, 124, 23, 220, 130, 197, 115, 44, 247, 9, 97, 188, 275, 172, 64, 174, 263, 16, 131, 227, 106, 26, 194, 104, 244, 0, 239, 145, 225, 22, 88, 299, 68, 161, 281, 222, 293, 93, 13, 257, 84, 279, 208, 61, 178, 105, 14, 218, 280, 49, 123, 221, 22, 270, 79, 194, 131, 288, 149, 274, 167, 290, 109, 248, 20, 266, 43, 250, 74, 165, 64, 249, 166, 294, 231, 50, 216, 127, 48, 276, 101, 188, 272, 208, 102, 25, 196, 88, 209, 289, 186, 121, 264, 169, 72, 253, 36, 131, 213, 75, 212, 100, 199, 263, 183, 103, 207, 138, 205, 135, 45, 111, 30, 277, 47, 269, 211, 113, 273, 186, 32, 265, 157, 15, 116, 24, 91, 12, 220, 296, 215, 284, 227, 121, 298, 137, 201, 261, 41, 128, 233, 49, 174, 23, 95, 190, 125, 180, 282, 185, 118, 203, 124, 295, 126, 195, 24, 89, 3, 98, 26, 277, 81, 4, 214, 123, 40, 258, 11, 135, 201, 93, 7, 222, 282, 224, 103, 17, 116, 187, 278, 217, 69, 299, 71, 216, 1, 243, 141, 27, 165, 14, 252, 88, 207, 59, 234, 290, 176, 7, 233, 292, 177, 116, 8, 86, 9, 119, 28, 275, 25, 258, 159, 22, 231, 146, 66, 136, 256, 199, 109, 42, 149, 5, 169, 291, 238, 150, 201, 128, 24, 126, 189, 130, 29, 113, 46, 114, 206, 97, 197, 145, 215, 48, 120, 200, 70, 163, 268, 20, 133, 267, 203, 261, 34, 280, 54, 139, 275, 205, 273, 81, 236, 17, 227, 170, 279, 190, 134, 213, 107, 242, 59, 232, 293, 138, 287, 191, 128, 12, 254, 29, 97, 180, 112, 33, 255, 179, 110, 23, 259, 126, 32, 223, 295, 161, 38, 124, 177, 283, 125, 46, 148, 291, 41, 108, 206, 63, 200, 263, 118, 179, 122, 173, 293, 238, 3, 228, 32, 110, 196, 123, 253, 68, 189, 102, 245, 127, 231, 150, 8, 126, 176, 64, 246, 84, 190, 26, 115, 217, 0, 100, 275, 30, 95, 185, 107, 16, 230, 172, 112, 297, 73, 168, 7, 87, 198, 257, 45, 254, 35, 285, 51, 267, 20, 271, 209, 62, 200, 151, 26, 91, 202, 262, 180, 251, 19, 269, 37, 103, 240, 76, 218, 289, 224, 280, 31, 265, 88, 184, 117, 204, 154, 36, 175, 264, 46, 248, 179, 127, 193, 139, 238, 146, 11, 260, 76, 215, 132, 243, 73, 262, 90, 217, 49, 294, 195, 113, 44, 109, 230, 285, 214, 270, 36, 237, 5, 88, 24, 221, 286, 51, 128, 20, 141, 37, 130, 246, 71, 150, 227, 135, 241, 298, 72, 185, 11, 255, 114, 179, 108, 38, 119, 170, 229, 147, 294, 97, 17, 144, 197, 134, 189, 116, 43, 198, 96, 2, 242, 296, 109, 175, 122, 169, 293, 50, 274, 158, 57, 131, 208, 137, 245, 299, 233, 149, 285, 226, 136, 211, 271, 23, 277, 28, 232, 113, 270, 82, 199, 147, 67, 135, 19, 220, 25, 92, 206, 110, 203, 259, 174, 115, 22, 278, 225, 4, 212, 104, 37, 284, 52, 141, 14, 90, 208, 276, 24, 120, 21, 279, 178, 121, 239, 69, 155, 0, 77, 250, 46, 295, 244, 109, 31, 287, 184, 274, 40, 129, 188, 113, 181, 6, 252, 196, 103, 182, 261, 32, 257, 67, 191, 133, 22, 89, 253, 122, 193, 111, 47, 213, 299, 222, 167, 120, 235, 288, 99, 181, 266, 84, 243, 160, 7, 82, 250, 10, 219, 75, 242, 106, 197, 255, 119, 179, 129, 18, 111, 218, 277, 34, 266, 207, 97, 12, 116, 171, 124, 216, 96, 28, 90, 272, 39, 249, 66, 130, 215, 102, 247, 60, 183, 107, 208, 125, 198, 149, 245, 157, 237, 175, 235, 298, 51, 270, 46, 116, 34, 286, 39, 232, 80, 253, 19, 268, 117, 168, 223, 283, 231, 172, 114, 47, 230, 13, 264, 113, 176, 127, 181, 298, 196, 96, 208, 70, 295, 49, 122, 205, 261, 29, 92, 23, 260, 50, 132, 198, 93, 220, 164, 53, 138, 192, 100, 200, 265, 38, 289, 234, 21, 123, 225, 37, 106, 278, 25, 104, 228, 297, 136, 185, 267, 212, 270, 15, 191, 102, 40, 248, 195, 142, 249, 30, 91, 261, 42, 256, 200, 148, 8, 258, 163, 293, 217, 72, 244, 65, 209, 118, 180, 110, 12, 265, 24, 94, 215, 112, 27, 97, 0, 101, 243, 163, 44, 251, 36, 229, 42, 284, 31, 141, 211, 143, 221, 1, 76, 155, 205, 130, 178, 111, 194, 77, 267, 121, 166, 69, 254, 15, 263, 28, 274, 210, 5, 98, 213, 265, 45, 152, 203, 59, 236, 119, 167, 13, 96, 36, 115, 171, 228, 280, 23, 130, 231, 78, 273, 187, 135, 190, 105, 200, 92, 256, 10, 87, 266, 11, 137, 206, 85, 199, 254, 125, 52, 262, 201, 60, 141, 2, 249, 106, 184, 112, 47, 123, 176, 239, 296, 63, 236, 43, 113, 183, 279, 27, 90, 205, 282, 227, 155, 56, 276, 19, 107, 196, 131, 175, 240, 290, 170, 116, 275, 209, 3, 226, 101, 194, 109, 223, 21, 137, 204, 108, 42, 291, 114, 173, 124, 211, 68, 201, 152, 266, 23, 281, 81, 245, 294, 224, 96, 7, 121, 165, 247, 32, 278, 229, 45, 215, 49, 284, 40, 271, 35, 252, 29, 286, 30, 117, 57, 238, 297, 106, 210, 148, 240, 289, 33, 193, 119, 169, 225, 102, 242, 127, 234, 61, 133, 67, 203, 153, 238, 38, 125, 288, 51, 184, 92, 9, 100, 197, 149, 220, 274, 22, 94, 32, 281, 233, 297, 66, 213, 287, 241, 76, 216, 268, 130, 173, 111, 179, 133, 235, 30, 125, 181, 108, 195, 135, 261, 69, 149, 0, 211, 115, 277, 188, 35, 260, 202, 269, 44, 106, 43, 289, 37, 126, 246, 293, 239, 138, 16, 271, 52, 266, 85, 194, 25, 272, 214, 128, 180, 55, 199, 131, 3, 218, 90, 31, 282, 232, 159, 104, 213, 112, 222, 296, 196, 250, 64, 124, 189, 93, 259, 206, 156, 40, 109, 180, 137, 193, 116, 169, 126, 66, 187, 81, 271, 73, 1, 230, 79, 182, 256, 25, 101, 37, 280, 20, 105, 30, 263, 156, 254, 48, 262, 18, 190, 238, 55, 119, 165, 219, 52, 132, 68, 243, 24, 224, 272, 23, 97, 232, 110, 185, 135, 206, 128, 175, 113, 257, 204, 260, 87, 14, 217, 162, 116, 198, 34, 272, 13, 67, 196, 247, 292, 236, 83, 245, 60, 294, 51, 259, 38, 112, 176, 118, 255, 9, 52, 183, 108, 212, 288, 28, 89, 210, 64, 258, 2, 101, 284, 186, 69, 262, 8, 226, 169, 129, 174, 85, 278, 33, 254, 147, 195, 96, 31, 223, 280, 53, 112, 205, 99, 30, 288, 221, 270, 117, 181, 121, 15, 151, 233, 279, 20, 126, 171, 132, 194, 248, 103, 215, 106, 185, 81, 162, 209, 263, 38, 120, 192, 299, 50, 237, 161, 6, 80, 234, 279, 48, 110, 41, 227, 134, 178, 123, 164, 114, 201, 91, 211, 5, 144, 54, 121, 37, 295, 243, 74, 253, 70, 228, 289, 28, 265, 111, 40, 292, 231, 46, 272, 218, 148, 198, 95, 222, 78, 248, 290, 239, 189, 276, 47, 216, 161, 104, 191, 97, 221, 122, 180, 72, 18, 281, 22, 278, 29, 128, 219, 275, 39, 246, 50, 267, 146, 208, 113, 165, 123, 298, 220, 98, 188, 100, 27, 238, 75, 249, 13, 107, 4, 257, 173, 116, 183, 119, 172, 233, 31, 95, 15, 71, 202, 65, 298, 115, 200, 0, 49, 113, 247, 19, 127, 58, 206, 86, 22, 219, 172, 125, 243, 61, 136, 181, 254, 201, 111, 176, 135, 12, 253, 194, 245, 178, 137, 88, 248, 44, 283, 25, 113, 230, 183, 133, 212, 259, 1, 239, 284, 28, 267, 171, 251, 136, 200, 118, 56, 188, 126, 197, 98, 36, 134, 14, 269, 26, 92, 271, 227, 293, 39, 142, 210, 163, 124, 290, 78, 221, 115, 184, 7, 55, 120, 166, 111, 51, 217, 5, 49, 133, 15, 266, 222, 175, 224, 4, 103, 242, 297, 236, 53, 278, 235, 122, 170, 225, 285, 88, 214, 107, 246, 80, 179, 9, 261, 21, 101, 275, 203, 156, 30, 256, 40, 231, 108, 185, 236, 190, 121, 162, 262, 50, 282, 229, 94, 209, 112, 21, 87, 11, 268, 145, 72, 215, 269, 17, 75, 152, 240]
	createVisu(sequence)
	# profile()




